---
title: ตั้งค่า Ngrok
---

ถ้าบอตเราต้องการอ่านข้อความในแชทเนี่ย มันต้องมีคนส่งข้อมูลมาให้บอตก่อน ซึ่่งในที่นี้ก็คือเซิร์ฟเวอร์ของ Kick นั่นแหละ
หลักการมีอย่างงี้ เวลามีคนส่งข้อความในแชทมาเนี่ย Kick จะรับรู้ และส่งข้อมูลต่าง ๆ มาให้เซิร์ฟเวอร์ของบอตเรา โดยเซิร์ฟเวอร์ของบอตเราจะเปิดรับข้อมูลตลอดเวลา
จะได้รับข้อความได้แบบ Real-Time

ปัญหาคือ Kick ไม่มีทางที่เราจะติดต่อเซิร์ฟเวอร์บอตเราได้ เพราะ เซิร์ฟเวอร์ของบอตเราเนี่ยอยู่ในเครื่อง ซึ่งไม่สามารถเข้าถึงได้จากภายนอก (แบบเนิร์ด ๆ ก็คืออยู่หลัง NAT)
ดังนั้นเราต้องมีตัวกลางในการส่งข้อมูลจาก Kick มาที่เซิร์ฟเวอร์ของบอตเรา ซึ่งตัวกลางที่ว่านี้ก็คือ **Ngrok** นั่นเอง

ทั้งหมดทั้งมวลที่กล่าวมาก่อนหน้า คือหลักการทำงานของ "Webhooks" ซึ่งเป็นวิธีที่ Kick ใช้ในการส่งข้อมูลต่าง ๆ มาให้บอตเรานั่นเองจ้า

เริ่มอธิบายยาวละ โอเค มาเริ่มกันเลยจ้า

---

## 1. สมัครและติดตั้ง ngrok

### สมัครบัญชี

1. ไปที่ https://ngrok.com/
2. สมัครบัญชีให้เรียบร้อย
3. ล็อกอินเข้า Dashboard

หลังจากล็อกอินแล้ว ให้เข้าไปที่หน้า  
**[Getting Started / Your Authtoken](https://dashboard.ngrok.com/get-started/your-authtoken)**

จะเห็นค่าที่ชื่อว่า **Authtoken**  
ก๊อปเก็บไว้ก่อน ได้ใช้แน่นอน นี่คือค่า NGROK_AUTHTOKEN

---

## 2. สร้างโดเมน ngrok

เข้าไปที่ [Dashboard](https://dashboard.ngrok.com/) ของ ngrok
ไปที่เมนู **[Domains](https://dashboard.ngrok.com/domains)**

จะเห็นหน้าตาประมาณนี้

![](https://github.com/user-attachments/assets/fb961566-04a8-4bba-9edc-2a0a3acb429e)

ให้ก๊อปตรงช่อง "Domain" มา (ในรูปคือ `nondiffractively-interungular-angeles.ngrok-free.dev`)
นี่คือค่า NGROK_DOMAIN

---

## 3. ใส่ค่าในไฟล์ .env

ตอนนี้เรามี 2 อย่างแล้ว:

* ngrok domain
* ngrok authtoken

เปิดไฟล์ `.env` ในโฟลเดอร์ ManaoBot
แล้วให้แก้ `NGROK_DOMAIN` กับ `NGROK_AUTHTOKEN` ให้เป็นค่าที่เราได้มา

```
NGROK_DOMAIN=yourname.ngrok.app
NGROK_AUTHTOKEN=your_real_authtoken_here
```

เซฟไฟล์ได้เลยนะ

---

## 4. แก้ Webhook URL ใน Kick

จำได้ไหม ตอนสร้างแอพเราใส่

```
http://localhost:5000
```

ตอนนี้ต้องเปลี่ยนเป็น:

```
https://[โดเมนที่ได้มา]/kick/webhook
```

เข้าไปแก้ที่หน้า [Developer](https://kick.com/settings/developer) ของ Kick แล้วกด Save

---

ถ้าทำตามถูกต้องทั้งหมด บอตก็พร้อมรันแล้วจ้า